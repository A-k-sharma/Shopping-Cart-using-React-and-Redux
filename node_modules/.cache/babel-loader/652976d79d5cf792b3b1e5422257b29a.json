{"ast":null,"code":"import _toConsumableArray from \"/home/ttn/Documents/shopping-cart-using-redux/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/ttn/Documents/shopping-cart-using-redux/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nvar _this = this;\n\nimport products from \"../../data\";\nimport { ADD_TO_CART } from \"../action/cartAction\";\nvar initstate = {\n  items: products,\n  addedItems: [],\n  total: 0\n};\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initstate;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      var addedItem = state.items.find(function (item) {\n        return item.id === action.id;\n      });\n      var existed_item = state.addedItems.find(function (item) {\n        return action.id === item.id;\n      });\n\n      if (existed_item) {\n        addedItem.quantity += 1;\n        return _objectSpread({}, state, {\n          total: state.total + addedItem.price\n        });\n      } else {\n        addedItem.quantity = 1;\n        var newTotal = state.total + addedItem.price;\n        return _objectSpread({}, state, {\n          addedItems: [].concat(_toConsumableArray(_this.state.addedItems), [addedItem]),\n          total: newTotal\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/home/ttn/Documents/shopping-cart-using-redux/src/components/reducer/cartReducer.js"],"names":["products","ADD_TO_CART","initstate","items","addedItems","total","cartReducer","state","action","type","addedItem","find","item","id","existed_item","quantity","price","newTotal"],"mappings":";;;;;AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AAEA,IAAMC,SAAS,GAAC;AACZC,EAAAA,KAAK,EAACH,QADM;AAEZI,EAAAA,UAAU,EAAC,EAFC;AAGZC,EAAAA,KAAK,EAAC;AAHM,CAAhB;;AAMA,IAAMC,WAAW,GAAC,SAAZA,WAAY,GAA0B;AAAA,MAAzBC,KAAyB,uEAAnBL,SAAmB;AAAA,MAATM,MAAS;;AACxC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,WAAL;AACI,UAAIS,SAAS,GAAGH,KAAK,CAACJ,KAAN,CAAYQ,IAAZ,CAAiB,UAAAC,IAAI;AAAA,eAAEA,IAAI,CAACC,EAAL,KAAUL,MAAM,CAACK,EAAnB;AAAA,OAArB,CAAhB;AACA,UAAIC,YAAY,GAACP,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsB,UAAAC,IAAI;AAAA,eAAEJ,MAAM,CAACK,EAAP,KAAYD,IAAI,CAACC,EAAnB;AAAA,OAA1B,CAAjB;;AACA,UAAGC,YAAH,EACA;AACIJ,QAAAA,SAAS,CAACK,QAAV,IAAoB,CAApB;AACA,iCACOR,KADP;AAEIF,UAAAA,KAAK,EAACE,KAAK,CAACF,KAAN,GAAYK,SAAS,CAACM;AAFhC;AAIH,OAPD,MAQI;AACAN,QAAAA,SAAS,CAACK,QAAV,GAAmB,CAAnB;AACA,YAAIE,QAAQ,GAAGV,KAAK,CAACF,KAAN,GAAcK,SAAS,CAACM,KAAvC;AAEA,iCACOT,KADP;AAEIH,UAAAA,UAAU,+BAAK,KAAI,CAACG,KAAL,CAAWH,UAAhB,IAA2BM,SAA3B,EAFd;AAGIL,UAAAA,KAAK,EAACY;AAHV;AAKH;;AACL;AAAS,aAAOV,KAAP;AAtBb;AAyBH,CA1BD;;AA4BA,eAAeD,WAAf","sourcesContent":["import products from \"../../data\";\nimport { ADD_TO_CART } from \"../action/cartAction\"\n\nconst initstate={\n    items:products,\n    addedItems:[],\n    total:0\n}\n\nconst cartReducer=(state=initstate,action)=>{\n    switch (action.type) {\n        case ADD_TO_CART:\n            let addedItem = state.items.find(item=>item.id===action.id)\n            let existed_item=state.addedItems.find(item=>action.id===item.id)\n            if(existed_item)\n            {\n                addedItem.quantity+=1\n                return{\n                    ...state,\n                    total:state.total+addedItem.price\n                }\n            }\n            else{\n                addedItem.quantity=1;\n                let newTotal = state.total + addedItem.price\n\n                return{\n                    ...state,\n                    addedItems:[...this.state.addedItems,addedItem],\n                    total:newTotal\n                }\n            }\n        default: return state;\n\n    }\n}\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}